{% extends 'base.html' %}
{% load static %}

{% block title %}Mi Perfil - Helpdesk{% endblock %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 py-8">
    <div class="container mx-auto px-4 max-w-4xl">
        <!-- Header -->
        <div class="mb-8">
            <h1 class="text-4xl font-bold text-white mb-2">
                <i class="fas fa-user-circle mr-3 text-blue-400"></i>
                Mi Perfil
            </h1>
            <p class="text-gray-300">Información de tu cuenta</p>
        </div>

        <!-- Profile Card -->
        <div class="bg-white/10 backdrop-blur-lg rounded-2xl border border-white/20 overflow-hidden shadow-2xl">
            <!-- Avatar Section -->
            <div class="bg-gradient-to-r from-blue-600 to-purple-600 p-8 text-center">
                <div class="w-24 h-24 bg-white rounded-full flex items-center justify-center mx-auto mb-4">
                    <span class="text-4xl font-bold text-blue-600">
                        {{ user.first_name|first }}{{ user.last_name|first }}
                    </span>
                </div>
                <h2 class="text-2xl font-bold text-white">{{ user.get_full_name|default:user.username }}</h2>
                <p class="text-blue-100">@{{ user.username }}</p>
            </div>

            <!-- Profile Information -->
            <div class="p-8 space-y-6">
                <!-- Email -->
                <div class="flex items-center space-x-4 p-4 bg-white/5 rounded-lg">
                    <div class="w-12 h-12 bg-blue-500/20 rounded-lg flex items-center justify-center">
                        <i class="fas fa-envelope text-blue-400 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-400 text-sm">Email</p>
                        <p class="text-white font-medium">{{ user.email }}</p>
                    </div>
                </div>

                <!-- Role -->
                <div class="flex items-center space-x-4 p-4 bg-white/5 rounded-lg">
                    <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center">
                        <i class="fas fa-user-tag text-purple-400 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-400 text-sm">Rol</p>
                        <p class="text-white font-medium">{{ user.get_role_display }}</p>
                    </div>
                </div>

                <!-- Company -->
                {% if user.company %}
                <div class="flex items-center space-x-4 p-4 bg-white/5 rounded-lg">
                    <div class="w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center">
                        <i class="fas fa-building text-green-400 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-400 text-sm">Empresa</p>
                        <p class="text-white font-medium">{{ user.company.name }}</p>
                    </div>
                </div>
                {% endif %}

                <!-- Member Since -->
                <div class="flex items-center space-x-4 p-4 bg-white/5 rounded-lg">
                    <div class="w-12 h-12 bg-orange-500/20 rounded-lg flex items-center justify-center">
                        <i class="fas fa-calendar text-orange-400 text-xl"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-gray-400 text-sm">Miembro desde</p>
                        <p class="text-white font-medium">{{ user.date_joined|date:"d/m/Y" }}</p>
                    </div>
                </div>

                <!-- Actions -->
                <div class="pt-6 border-t border-white/10">
                    <a href="{% url 'users:user_change_password' %}" 
                       class="w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold py-3 px-6 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center">
                        <i class="fas fa-key mr-2"></i>
                        Cambiar Contraseña
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
